"Year: ", Year, "<br>",
"Life expectancy: ", round(LE_age, 1)),
group = 1)) +
geom_line(aes(color = Region)) +
labs(title = "Life expectancy",
caption = "Source: ourworldindata.org") +
scale_y_continuous(breaks = seq(from = 0, to = 90, by = 10),
labels = c('0 year',
'10 years',
'20 years',
'30 years',
'40 years',
'50 years',
'60 years',
'70 years',
'80 years',
'90 years')) +
theme_minimal() +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
plot.title = element_text(face = "bold", size = 18),
plot.caption = element_text(size = 7),
legend.title = element_blank(),
legend.position = "top")
plotly1b <- ggplotly(p1b, tooltip = "text")
plotly1b
MenVSWomen <- as.data.frame(read_csv("./LifeExpectancy/life-expectancy-of-women-vs-life-expectancy-of-women.csv"))
MenVSWomen_countries <- MenVSWomen %>%
filter(!is.na(Code) & Entity != "World") %>%
rename(Country = Entity,
LE_men_age = `Life expectancy of men (years)`,
LE_women_age = `Life expectancy of women (years)`,
Total_pop = `Total population (Gapminder)`)
MenVSWomen_regions <- MenVSWomen %>%
filter(!is.na(Code) | Entity == "World") %>%
select(Entity,
Year,
`Life expectancy of men (years)`,
`Life expectancy of women (years)`,
`Total population (Gapminder)`) %>%
rename(Region = Entity,
LE_men_age = `Life expectancy of men (years)`,
LE_women_age = `Life expectancy of women (years)`,
Total_pop = `Total population (Gapminder)`)
MenVSWomen_countries
MenVSWomen_regions
# Choose year to plot
sliceYear <- 2000
MenVSWomen_countries_yearChosen <- MenVSWomen_countries %>%
filter(Year == sliceYear)
bigThreePop <- MenVSWomen_countries_yearChosen %>%
arrange(desc())
p2 <- ggplot(MenVSWomen_countries_yearChosen, aes(x = LE_men_age,
y = LE_women_age,
size = Total_pop,
text = paste0(Country, "<br>",
"Men: ", round(LE_men_age,2), "<br>",
"Women: ", round(LE_women_age,2), "<br>",
"Pop: ", Total_pop))) +
geom_jitter(aes(color = Country), alpha = 0.8) +
labs(title = "Life expectancy of men vs life expectancy of women",
x = "Life expectancy of men",
y = "Life expectancy of women") +
theme_bw() +
theme(legend.position = "none",
plot.title = element_text(face = "bold", size = 13))
ggplotly(p2)
MenVSWomen_countries_yearChosen %>%
arrange(desc(Total_pop))
bigFivePop <- MenVSWomen_countries_yearChosen %>%
arrange(desc(Total_pop)) %>%
head(5)
bigFivePop
ggplotly(p2)
ggplotly(p2, tooltip = "text")
MenVSWomen_regions_yearChosen <- MenVSWomen_regions %>%
filter(Year == sliceYear)
p2b <- ggplot(MenVSWomen_regions_yearChosen, aes(x = LE_men_age,
y = LE_women_age,
size = Total_pop,
text = paste0(Region, "<br>",
"Men: ", round(LE_men_age,2), "<br>",
"Women: ", round(LE_women_age,2), "<br>",
"Pop: ", Total_pop))) +
geom_jitter(aes(color = Region), alpha = 0.8) +
labs(title = "Life expectancy of men vs life expectancy of women",
x = "Life expectancy of men",
y = "Life expectancy of women") +
theme_bw() +
theme(legend.position = "none",
plot.title = element_text(face = "bold", size = 13))
ggplotly(p2b, tooltip = "text")
library(scales)
MenVSWomen_regions_yearChosen <- MenVSWomen_regions %>%
filter(Year == sliceYear)
p2b <- ggplot(MenVSWomen_regions_yearChosen, aes(x = LE_men_age,
y = LE_women_age,
size = Total_pop,
text = paste0(Region, "<br>",
"Men: ", round(LE_men_age,2), "<br>",
"Women: ", round(LE_women_age,2), "<br>",
"Pop: ", Total_pop))) +
geom_jitter(aes(color = Region), alpha = 0.8) +
scale_size_continuous(labels = comma) +
labs(title = "Life expectancy of men vs life expectancy of women",
x = "Life expectancy of men",
y = "Life expectancy of women") +
theme_bw() +
theme(legend.position = "none",
plot.title = element_text(face = "bold", size = 13))
ggplotly(p2b, tooltip = "text")
p2b <- ggplot(MenVSWomen_regions_yearChosen, aes(x = LE_men_age,
y = LE_women_age,
size = Total_pop,
text = paste0(Region, "<br>",
"Men: ", round(LE_men_age,2), "<br>",
"Women: ", round(LE_women_age,2), "<br>",
"Pop: ", format(Total_pop, big.mark = ",")))) +
geom_jitter(aes(color = Region), alpha = 0.8) +
scale_size_continuous(labels = comma) +
labs(title = "Life expectancy of men vs life expectancy of women",
x = "Life expectancy of men",
y = "Life expectancy of women") +
theme_bw() +
theme(legend.position = "none",
plot.title = element_text(face = "bold", size = 13))
ggplotly(p2b, tooltip = "text")
MenVSWomen_countries
MenVSWomen_countries %>%
pivot_longer(cols = c("LE_men_age","LE_women_age"),
names_to = Gender, values_to = LE_age)
MenVSWomen_countries %>%
pivot_longer(cols = c("LE_men_age","LE_women_age"),
names_to = "Gender", values_to = LE_age)
MenVSWomen_countries %>%
pivot_longer(cols = c("LE_men_age","LE_women_age"),
names_to = "Gender", values_to = "LE_age")
MenVSWomen_countries <- MenVSWomen %>%
filter(!is.na(Code) & Entity != "World") %>%
rename(Country = Entity,
LE_men_age = `Life expectancy of men (years)`,
LE_women_age = `Life expectancy of women (years)`,
Total_pop = `Total population (Gapminder)`) %>%
mutate(Country = as.factor(Country),
Code = as.factor(Code))
MenVSWomen_regions <- MenVSWomen %>%
filter(!is.na(Code) | Entity == "World") %>%
select(Entity,
Year,
`Life expectancy of men (years)`,
`Life expectancy of women (years)`,
`Total population (Gapminder)`) %>%
rename(Region = Entity,
LE_men_age = `Life expectancy of men (years)`,
LE_women_age = `Life expectancy of women (years)`,
Total_pop = `Total population (Gapminder)`) %>%
mutate(Region = as.factor(Region))
MenVSWomen_countries
MenVSWomen_regions
MenVSWomen_countries_long <- MenVSWomen_countries %>%
pivot_longer(cols = c("LE_men_age","LE_women_age"),
names_to = "Gender", values_to = "LE_age")
MenVSWomen_countries_long
unique(MenVSWomen_countries_long)
unique(MenVSWomen_countries_long$Gender)
unique(MenVSWomen_countries_long$Gender) <- c("Men","Women")
countryChosen <- "Indonesia"
MenVSWomen_countriesLong_countryChosen <- MenVSWomen_countries_long %>%
filter(Country == countryChosen)
MenVSWomen_countriesLong_countryChosen
MenVSWomen_countries_long <- MenVSWomen_countries %>%
pivot_longer(cols = c("LE_men_age","LE_women_age"),
names_to = "Gender", values_to = "LE_age")
countryChosen <- "Indonesia"
MenVSWomen_countriesLong_countryChosen <- MenVSWomen_countries_long %>%
filter(Country == countryChosen)
ggplot(MenVSWomen_countries_countryChosen, aes(x = Year,
y = LE_age))
MenVSWomen_countries_long <- MenVSWomen_countries %>%
pivot_longer(cols = c("LE_men_age","LE_women_age"),
names_to = "Gender", values_to = "LE_age") %>%
mutate(Gender = as.factor(Gender))
MenVSWomen_countries_long
MenVSWomen_countriesLong_countryChosen <- MenVSWomen_countries_long %>%
filter(Country == countryChosen)
MenVSWomen_countriesLong_countryChosen
ggplot(MenVSWomen_countriesLong_countryChosen, aes(x = Year,
y = LE_age,
fill = Gender)) +
geom_bar(subset = .(Gender == "LE_men_age"), stat = "identity") +
geom_bar(subset = .(Gender == "LE_women_age"), stat = "identity") +
coord_flip() +
scale_fill_brewer(palette = "Set1") +
theme_bw()
MenVSWomen_countriesLong_countryChosen
ggplot(MenVSWomen_countriesLong_countryChosen, aes(x = Year,
y = LE_age,
fill = Gender)) +
geom_bar(data = subset(MenVSWomen_countriesLong_countryChosen, Gender == "LE_men_age")) +
geom_bar(data = subset(MenVSWomen_countriesLong_countryChosen, Gender == "LE_women_age")) +
coord_flip() +
scale_fill_brewer(palette = "Set1") +
theme_bw()
MenVSWomen_countriesLong_countryChosen <- MenVSWomen_countries_long %>%
filter(Country == countryChosen)
MenVSWomen_countries_long <- MenVSWomen_countries %>%
pivot_longer(cols = c("LE_men_age","LE_women_age"),
names_to = "Gender", values_to = "LE_age") %>%
mutate(Gender = as.factor(Gender))
countryChosen <- "Indonesia"
MenVSWomen_countriesLong_countryChosen <- MenVSWomen_countries_long %>%
filter(Country == countryChosen) %>%
as.data.frame()
ggplot(MenVSWomen_countriesLong_countryChosen, aes(x = Year,
y = LE_age,
fill = Gender)) +
geom_bar(data = subset(MenVSWomen_countriesLong_countryChosen, Gender == "LE_men_age")) +
geom_bar(data = subset(MenVSWomen_countriesLong_countryChosen, Gender == "LE_women_age")) +
coord_flip() +
scale_fill_brewer(palette = "Set1") +
theme_bw()
ggplot(MenVSWomen_countriesLong_countryChosen, aes(x = Year,
y = LE_age,
fill = Gender)) +
geom_bar(data = subset(MenVSWomen_countriesLong_countryChosen, Gender == "LE_men_age")) +
geom_bar(data = subset(MenVSWomen_countriesLong_countryChosen, Gender == "LE_women_age")) +
coord_flip() +
scale_fill_brewer(palette = "Set1") +
theme_bw()
MenVSWomen_countriesLong_countryChosen
ggplot(MenVSWomen_countriesLong_countryChosen, aes(x = Year,
y = LE_age,
fill = Gender)) +
geom_bar(data = subset(MenVSWomen_countriesLong_countryChosen, Gender == "LE_men_age")) +
geom_bar(data = subset(MenVSWomen_countriesLong_countryChosen, Gender == "LE_women_age")) +
coord_flip() +
scale_fill_brewer(palette = "Set1") +
theme_bw()
ggplot(MenVSWomen_countriesLong_countryChosen, aes(x = Year,
y = ifelse(Gender == "LE_men_age",
LE_age,
-LE_age),
fill = Gender)) +
geom_bar() +
coord_flip() +
scale_fill_brewer(palette = "Set1") +
theme_bw()
ggplot(MenVSWomen_countriesLong_countryChosen, aes(x = Year,
y = ifelse(Gender == "LE_men_age",
LE_age,
-LE_age),
fill = Gender)) +
geom_bar() +
ggplot(MenVSWomen_countriesLong_countryChosen, aes(x = Year,
y = ifelse(Gender == "LE_men_age",
LE_age,
-LE_age),
fill = Gender)) +
geom_bar()
MenVSWomen_countriesLong_countryChosen
MenVSWomen_countriesLong_countryChosen <- MenVSWomen_countries_long %>%
filter(Country == countryChosen) %>%
replace_na(0) %>%
as.data.frame()
MenVSWomen_countriesLong_countryChosen <- MenVSWomen_countries_long %>%
filter(Country == countryChosen) %>%
as.data.frame()
MenVSWomen_countriesLong_countryChosen$LE_age <- replace_na(MenVSWomen_countriesLong_countryChosen$LE_age, replace = 0)
MenVSWomen_countriesLong_countryChosen
ggplot(MenVSWomen_countriesLong_countryChosen, aes(x = Year,
y = ifelse(Gender == "LE_men_age",
LE_age,
-LE_age),
fill = Gender)) +
geom_bar() +
coord_flip() +
scale_fill_brewer(palette = "Set1") +
theme_bw()
MenVSWomen_countriesLong_countryChosen
ggplot(MenVSWomen_countriesLong_countryChosen, aes(x = Year,
y = ifelse(Gender == "LE_men_age",
LE_age,
-LE_age),
fill = Gender)) +
geom_bar()
ggplot(MenVSWomen_countriesLong_countryChosen, aes(x = Year,
y = ifelse(Gender == "LE_men_age",
LE_age,
-LE_age),
fill = Gender)) +
geom_col()
ggplot(MenVSWomen_countriesLong_countryChosen, aes(x = Year,
y = ifelse(Gender == "LE_men_age",
LE_age,
-LE_age),
fill = Gender)) +
geom_col() +
coord_flip() +
scale_fill_brewer(palette = "Set1") +
theme_bw()
MenVSWomen_countriesLong_countryChosen
MenVSWomen_countriesLong_countryChosen <- MenVSWomen_countries_long %>%
filter(Country == countryChosen) %>%
drop_na() %>%
as.data.frame()
MenVSWomen_countriesLong_countryChosen
ggplot(MenVSWomen_countriesLong_countryChosen, aes(x = Year,
y = ifelse(Gender == "LE_men_age",
LE_age,
-LE_age),
fill = Gender)) +
geom_col() +
coord_flip() +
scale_fill_brewer(palette = "Set1") +
theme_bw()
ggplot(MenVSWomen_countriesLong_countryChosen, aes(x = Year,
y = ifelse(Gender == "LE_women_age",
LE_age,
-LE_age),
fill = Gender)) +
geom_col() +
coord_flip() +
scale_fill_brewer(palette = "Set2") +
scale_y_continuous(labels = )
ggplot(MenVSWomen_countriesLong_countryChosen, aes(x = Year,
y = ifelse(Gender == "LE_women_age",
LE_age,
-LE_age),
fill = Gender)) +
geom_col() +
coord_flip() +
scale_fill_brewer(palette = "Set3") +
scale_y_continuous(labels = )
ggplot(MenVSWomen_countriesLong_countryChosen, aes(x = Year,
y = ifelse(Gender == "LE_women_age",
LE_age,
-LE_age),
fill = Gender)) +
geom_col() +
coord_flip() +
scale_fill_brewer(palette = "Set4") +
scale_y_continuous(labels = )
ggplot(MenVSWomen_countriesLong_countryChosen, aes(x = Year,
y = ifelse(Gender == "LE_women_age",
LE_age,
-LE_age),
fill = Gender)) +
geom_col() +
coord_flip() +
scale_fill_brewer(palette = "Set1") +
scale_y_continuous(labels = )
dfLong_counChosen <- MenVSWomen_countries_long %>%
filter(Country == countryChosen) %>%
drop_na() %>%
as.data.frame()
ggplot(dfLong_counChosen, aes(x = Year,
y = ifelse(Gender == "LE_women_age",
LE_age,
-LE_age),
fill = Gender)) +
geom_col() +
coord_flip() +
scale_fill_brewer(palette = "Set1") +
scale_y_continuous(labels = abs,
limits = max(dfLong_counChosen$LE_age)*c(-1,1))
max(dfLong_counChosen$LE_age)
ggplot(dfLong_counChosen, aes(x = Year,
y = ifelse(Gender == "LE_women_age",
LE_age,
-LE_age),
fill = Gender)) +
geom_col() +
coord_flip() +
scale_fill_brewer(palette = "Set1") +
scale_y_continuous(labels = abs,
limits = max(dfLong_counChosen$LE_age)*c(-1,1)) +
labs(title = "Life expectancy by gender in timeseries",
y = "Life expectancy",
x = "Year") +
theme_bw() +
theme(plot.title = element_text(face = "bold", size = 12))
ggplot(dfLong_counChosen, aes(x = Year,
y = ifelse(Gender == "LE_women_age",
LE_age,
-LE_age),
fill = Gender)) +
geom_col() +
coord_flip() +
scale_fill_brewer(palette = "Set1") +
scale_y_continuous(labels = abs,
limits = max(dfLong_counChosen$LE_age)*c(-1,1)) +
scale_fill_manual(labels = c("Men","Women"), values = c("blue","red"))
labs(title = "Life expectancy by gender in timeseries",
y = "Life expectancy",
x = "Year",
fill =) +
theme_bw() +
theme(plot.title = element_text(face = "bold", size = 12))
ggplot(dfLong_counChosen, aes(x = Year,
y = ifelse(Gender == "LE_women_age",
LE_age,
-LE_age),
fill = Gender)) +
geom_col() +
coord_flip() +
scale_fill_brewer(palette = "Set1") +
scale_y_continuous(labels = abs,
limits = max(dfLong_counChosen$LE_age)*c(-1,1)) +
scale_fill_manual(labels = c("Men","Women"), values = c("blue","red"))
ggplot(dfLong_counChosen, aes(x = Year,
y = ifelse(Gender == "LE_women_age",
LE_age,
-LE_age),
fill = Gender)) +
geom_col() +
coord_flip() +
scale_fill_manual(labels = c("Men","Women"), values = c("blue","red")) +
scale_fill_brewer(palette = "Set1") +
scale_y_continuous(labels = abs,
limits = max(dfLong_counChosen$LE_age)*c(-1,1)) +
labs(title = "Life expectancy by gender in timeseries",
y = "Life expectancy",
x = "Year",
fill =) +
theme_bw() +
theme(plot.title = element_text(face = "bold", size = 12))
ggplot(dfLong_counChosen, aes(x = Year,
y = ifelse(Gender == "LE_women_age",
LE_age,
-LE_age),
fill = Gender)) +
geom_col() +
coord_flip() +
scale_fill_manual(labels = c("Men","Women"), values = c("blue","red")) +
scale_fill_brewer(palette = "Set1") +
scale_y_continuous(labels = abs,
limits = max(dfLong_counChosen$LE_age)*c(-1,1)) +
labs(title = "Life expectancy by gender in timeseries",
y = "Life expectancy",
x = "Year") +
theme_bw() +
theme(plot.title = element_text(face = "bold", size = 12))
ggplot(dfLong_counChosen, aes(x = Year,
y = ifelse(Gender == "LE_women_age",
LE_age,
-LE_age),
fill = Gender)) +
geom_col() +
coord_flip() +
scale_fill_manual(labels = c("Men","Women"), values = c("blue","red")) +
# scale_fill_brewer(palette = "Set1") +
scale_y_continuous(labels = abs,
limits = max(dfLong_counChosen$LE_age)*c(-1,1)) +
labs(title = "Life expectancy by gender in timeseries",
y = "Life expectancy",
x = "Year") +
theme_bw() +
theme(plot.title = element_text(face = "bold", size = 12))
countryChosen <- "United Kingdom"
dfLong_counChosen <- MenVSWomen_countries_long %>%
filter(Country == countryChosen) %>%
drop_na() %>%
as.data.frame()
ggplot(dfLong_counChosen, aes(x = Year,
y = ifelse(Gender == "LE_women_age",
LE_age,
-LE_age),
fill = Gender)) +
geom_col() +
coord_flip() +
scale_fill_manual(labels = c("Men","Women"), values = c("blue","red")) +
# scale_fill_brewer(palette = "Set1") +
scale_y_continuous(labels = abs,
limits = max(dfLong_counChosen$LE_age)*c(-1,1)) +
labs(title = "Life expectancy by gender in timeseries",
y = "Life expectancy",
x = "Year") +
theme_bw() +
theme(plot.title = element_text(face = "bold", size = 12))
ggplot(dfLong_counChosen, aes(x = Year,
y = ifelse(Gender == "LE_women_age",
LE_age,
-LE_age),
fill = Gender)) +
geom_col() +
coord_flip() +
scale_fill_manual(labels = c("Men","Women"), values = c("blue","red")) +
# scale_fill_brewer(palette = "Set1") +
scale_y_continuous(labels = abs,
limits = max(dfLong_counChosen$LE_age)*c(-1,1)) +
labs(title = "Life expectancy by gender in timeseries",
y = "Life expectancy",
x = "Year") +
theme_calc() +
theme(plot.title = element_text(face = "bold", size = 12))
p3a <- ggplot(dfLong_counChosen, aes(x = Year,
y = ifelse(Gender == "LE_women_age",
LE_age,
-LE_age),
fill = Gender)) +
geom_col() +
coord_flip() +
scale_fill_manual(labels = c("Men","Women"), values = c("blue","red")) +
# scale_fill_brewer(palette = "Set1") +
scale_y_continuous(labels = abs,
limits = max(dfLong_counChosen$LE_age)*c(-1,1)) +
labs(title = "Life expectancy by gender in timeseries",
y = "Life expectancy",
x = "Year") +
theme_calc() +
theme(plot.title = element_text(face = "bold", size = 12))
ggplotly(p3a)
